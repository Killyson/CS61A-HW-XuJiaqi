## ![img](https://cnchen2000.oss-cn-shanghai.aliyuncs.com/img/logo.png)      è®¡ç®—æœºä¸äººå·¥æ™ºèƒ½å­¦é™¢ã€Šäººå·¥æ™ºèƒ½åŸºç¡€ç¼–ç¨‹å®è®­ã€‹å®éªŒæŠ¥å‘ŠğŸ“

| ä¸“ä¸š                 | å­¦å·         | å§“å         |
| :------------------- | ------------ | ------------ |
| äººå·¥æ™ºèƒ½12301        | 2304300133   | å¾ä½³çª       |
| **è¯¾ç¨‹åç§°**         | **å®éªŒåç§°** | **å®Œæˆæ—¥æœŸ** |
| äººå·¥æ™ºèƒ½åŸºç¡€ç¼–ç¨‹å®è®­ | å¤§ä½œä¸š       | 2025.1.1     |



[TOC]

### ä¸€ å®éªŒç›®æ ‡

- æŒæ¡Vs Codeã€githubçš„ä½¿ç”¨ï¼›
- æŒæ¡ä½¿ç”¨Makefileè¿›è¡Œå·¥ç¨‹ç¼–è¯‘çš„æ–¹æ³•ï¼›

  

### äºŒ å®éªŒè¦æ±‚

- ä¸ªäººç‹¬ç«‹å®Œæˆï¼Œç§¯æåŠ¨æ‰‹ç¼–ç¨‹ï¼›
- é¼“åŠ±ä¸åŒå­¦äº¤æµï¼Œä½†ä¸èƒ½æŠ„è¢­æºç ï¼›
- èƒ½å®Œæˆå®éªŒè¯´æ˜æ–‡æ¡£çš„å„ä¸ªæ­¥éª¤å¹¶æ’°å†™æ­¤å®éªŒæŠ¥å‘Šï¼›
- èƒ½æ¼”ç¤ºå®éªŒè¿‡ç¨‹å¹¶é˜è¿°åŠŸèƒ½çš„ä¸»è¦ä»£ç æ¨¡å—ã€‚
- å®éªŒæŠ¥å‘Šè¯·çªå‡ºè‡ªå·±çš„**æƒ³æ³•**ã€**åšæ³•**ã€**å¿ƒå¾—ä½“ä¼š**ï¼›
- 

### ä¸‰ å®éªŒç¯å¢ƒ

- Vs Codeã€Githubã€Typoraï¼›
- ä¹¦ï¼š
- ç½‘ç«™ï¼š[Project 3: Ants Vs. SomeBees | CS61A-Spring2022](https://caiscoding.github.io/CS61A-Spring2022/projects/project3/README-zh_CN.html)
- ç¯å¢ƒé…ç½®



### å›› å®éªŒå†…å®¹

> æœ¬å®éªŒæ˜¯åœ¨å†™ä¸€ä¸ªæ¸¸æˆï¼Œèš‚èšå¤§æˆ˜èœœèœ‚ã€‚è¿™ä¸ªæ¸¸æˆçš„æ ¸å¿ƒç©æ³•ä¸æ¤ç‰©å¤§æˆ˜åƒµå°¸ååˆ†ç›¸ä¼¼ï¼Œå±äºç®€å•çš„æ–¹æ ¼å¡”é˜²æ¸¸æˆã€‚æ€»ä½“å®éªŒéƒ¨åˆ†è¢«åˆ†ä¸ºäº†4ä¸ªphase, 12+2 ä¸ªé—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªå¼•å¯¼å·²ç»ååˆ†å®Œå–„äº†ï¼Œæ‰€ä»¥ä¸‹é¢å°±æŒ‰ç…§ä»–æ‰€ç»™çš„å·¥ä½œæµæ¥å®Œæˆå®éªŒã€‚
>
> <center>
>   <img class="img-responsive center-block" src="img/gui_explanation.png" style="border: 1px solid #000;"/>
> </center>

#### Phase 1

- ##### é—®é¢˜0

  æµ‹è¯•ç»“æœï¼š

  ![image-20260111160447917](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111160447917.png)

- ##### é—®é¢˜1

  åœ¨ `HarvesterAnt` å’Œ `ThrowerAnt` ä¸­é‡å†™ç±»å±æ€§ `food_cost` çš„å€¼ã€‚åœ¨ `HarvesterAnt` çš„ `action` æ–¹æ³•ä¸­ï¼Œä¸ºä¼ å…¥çš„ `gamestate` çš„ `food` åŠ ä¸€å³å¯
  
  <table class="ant">
    <tr>
      <td><b>ç±»</b></td>
      <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_harvester.gif" /> <br> <code>HarvesterAnt</code></td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_thrower.gif" /> <br> <code>ThrowerAnt</code></td>
      <td>3</td>
      <td>1</td>
    </td>
  </table>

```python
class HarvesterAnt(Ant):
    """HarvesterAnt produces 1 additional food per turn for the colony."""

    name = 'Harvester'
    implemented = True
    # OVERRIDE CLASS ATTRIBUTES HERE
    food_cost = 2

    def action(self, gamestate):
        """Produce 1 additional food for the colony.

        gamestate -- The GameState, used to access game state information.
        """
        # BEGIN Problem 1
        "*** YOUR CODE HERE ***"
        gamestate.food += 1
        # END Problem 1
```

  æµ‹è¯•ç»“æœï¼š
![image-20260111162145913](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111162145913.png)

- ##### é—®é¢˜2

  ä¸º `Place.__init__` æ·»åŠ è¿½è¸ª `Place` çš„å…¥å£ `entrance` çš„åŠŸèƒ½ã€‚å¦‚æœæˆ‘ä»¬å•çº¯å°† `entrance` ä¼ é€’ç»™æ„é€ å‡½æ•°ä¼šäº§ç”Ÿé—®é¢˜ï¼šæˆ‘ä»¬å¿…é¡»åœ¨åˆ›å»º `Place` ä¹‹å‰åŒæ—¶è·å¾—å‡ºå£å’Œå…¥å£ï¼Œè€Œç”±äºæˆ‘ä»¬æ˜¯æŒ‰ä¸€å®šçš„é¡ºåºåˆ›å»º `Place` çš„ï¼Œæˆ‘ä»¬æ— æ³•åŒæ—¶è·å¾—è¿™ä¸¤è€…ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†æ”¹ç”¨ä»¥ä¸‹æ–¹å¼è¿½è¸ªå…¥å£ã€‚ `Place.__init__` åº”å½“é‡‡ç”¨ä»¥ä¸‹é€»è¾‘ï¼š

  - æ–°åˆ›å»ºçš„ `Place` æ€»æ˜¯ä»¥ `entrance` ä½œä¸º `None` å¼€å§‹ã€‚
  - å¦‚æœ `Place` æœ‰ä¸€ä¸ª `exit` ï¼Œé‚£ä¹ˆ `exit` çš„ `entrance` å°†è¢«è®¾ç½®ä¸ºè¯¥ `Place` ã€‚

  å› æ­¤ï¼Œæˆ‘ä»¬è¿½è¸ª `entrance` çš„é€»è¾‘æ˜¯ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸€å®šé¡ºåºåˆ›å»º `Place`ï¼ˆå¯èƒ½æ˜¯ä»æ²¡æœ‰ `exit` çš„ â€œç»ˆç‚¹â€å¼€å§‹ï¼‰ï¼Œå½“æœ‰ä¸€ä¸ª `Place` ä»¥ä¹‹å‰çš„ `Place` ä½œä¸º `exit`ã€æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ–°ä¹‹å‰çš„ `Place`ï¼Œè®¾ç½®å…¶å…¥å£ã€‚

  ![colony-drawing](D:\2025å¤§ä¸‰äººå·¥æ™ºèƒ½å®è®­\proj3-ants-main-qc\proj3-ants-main\ants\assets\colony-drawing.png)

  ```python
  class Place:
      """A Place holds insects and has an exit to another Place."""
      is_hive = False
  
      def __init__(self, name, exit=None):
          """Create a Place with the given NAME and EXIT.
  
          name -- A string; the name of this Place.
          exit -- The Place reached by exiting this Place (may be None).
          """
          self.name = name
          self.exit = exit
          self.bees = []        # A list of Bees
          self.ant = None       # An Ant
          self.entrance = None  # A Place
          # Phase 1: Add an entrance to the exit
          # BEGIN Problem 2
          "*** YOUR CODE HERE ***"
          if exit:
              exit.entrance = self
          # END Problem 2
  ```

  æµ‹è¯•ç»“æœï¼š

  ![image-20260111164404098](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111164404098.png)

- ##### é—®é¢˜3

  é—®é¢˜å¯ä»¥æè¿°ä¸ºï¼šä» `ThrowerAnt` æ‰€åœ¨çš„ `Place` å¼€å§‹ï¼Œå¯»æ‰¾ä½äºå…¶å³è¾¹çš„ `Place` ä¸­åŒ…å«èœœèœ‚çš„æœ€è¿‘çš„ `Place`ï¼Œå¹¶è¿”å›åˆ—è¡¨ä¸­éšæœºçš„èœœèœ‚ã€‚

  æˆ‘ä½¿ç”¨é€’å½’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

  é€’å½’æƒ…å†µæ˜¯ï¼šä» `Place` çš„ `entrance` å¼€å§‹å¯»æ‰¾æœ€è¿‘çš„èœœèœ‚ã€‚

  åŸºçº¿æ¡ä»¶æ˜¯ï¼š

  - å¦‚æœ `Place` çš„ `self.bees` éç©ºï¼Œåˆ™è¿”å›åˆ—è¡¨ä¸­éšæœºä¸€åªèœœèœ‚ã€‚
  - å¦‚æœ `Place` çš„ `self.bees` ä¸ºç©ºå¹¶ä¸”è¯¥ `Place` çš„ `entrance` æ˜¯ `Hive`ï¼Œåˆ™è¿”å› `None`
  - å¦‚æœ `Place` çš„ `self.bees` ä¸ºç©ºå¹¶ä¸”è¯¥ `Place` çš„ `entrance` ä¸æ˜¯ `Hive`ï¼Œåˆ™åœ¨è¯¥ `Place` çš„ `entrance` ä¸Šå¯»æ‰¾æœ€è¿‘çš„èœœèœ‚ã€‚

  ```python
  def nearest_bee(self):
      """Return the nearest Bee in a Place that is not the HIVE, connected to
      the ThrowerAnt's Place by following entrances.
  
      This method returns None if there is no such Bee (or none in range).
      """
      # BEGIN Problem 3 and 4
      def find_nearest_bee(place):
          if len(place.bees) > 0:
              return random_bee(place.bees)
          elif (len(place.bees) == 0) and (place.entrance.is_hive):
              return None
          else:
              return find_nearest_bee(place.entrance)
  
      return find_nearest_bee(self.place)
      # END Problem 3 and 4
  ```

æµ‹è¯•ç»“æœï¼š

![image-20260111173411121](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111173411121.png)

#### Phase 2

- é—®é¢˜4

  æˆ‘ä»¬è¦å®ç°ä¸¤ä¸ªæ–°å‹æŠ•æ·èš‚èšï¼š

  - `LongThrower` åªèƒ½ `throw_at` åœ¨è‡³å°‘ç»è¿‡ 5 æ¬¡ `entrance` è½¬æ¢åæ‰èƒ½æ‰¾åˆ°çš„ `Bee` ã€‚
  - `ShortThrower` æœ€å¤šåªèƒ½ `throw_at` æ²¿ç€ 3 æ¬¡ `entrance` è½¬æ¢åæ‰¾åˆ°çš„ `Bee` è¿›è¡Œ ã€‚å®ƒæ— æ³•æ”»å‡»å‰æ–¹è¶…è¿‡ 3 ä¸ª `Place` è·ç¦»çš„èœœèœ‚ã€‚

  <table class="ant">
    <tr>
      <td><b>ç±»</b></td>
      <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_shortthrower.gif" /> <br>
        <code>ShortThrower</code></td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_longthrower.gif" /> <br> <code>LongThrower</code></td>
      <td>2</td>
      <td>1</td>
    </tr>
  </table>

  ä¿®æ”¹ `nearest_bee` æ–¹æ³•ä»¥å¼•ç”¨ `lower_bound` å’Œ `upper_bound` å±æ€§ï¼Œå¹¶ä»…åœ¨èŒƒå›´å†…æ—¶è¿”å›ä¸€åªèœœèœ‚ã€‚ç¡®ä¿åœ¨ `ThrowerAnt` ç±»ä¸­ä¸ºè¿™äº› `lower_bound` å’Œ `upper_bound` å±æ€§èµ‹äºˆé€‚å½“çš„å€¼ï¼Œä»¥ä¿æŒ `ThrowerAnt` çš„è¡Œä¸ºä¸å˜ã€‚ç„¶åï¼Œå®ç°å­ç±» `LongThrower` å’Œ `ShortThrower` ï¼Œå¹¶å¯¹å…¶èŒƒå›´è¿›è¡Œé€‚å½“çš„çº¦æŸã€‚

  `lower_bound` å’Œ `upper_bound` åº”æ ‡è®°ä¸€ä¸ªåŒ…å«ç«¯ç‚¹çš„èŒƒå›´ã€‚

  æƒ³æ³•æ˜¯ï¼Œå¼•å…¥ä¸€ä¸ªæ–°å˜é‡ `num_transition` è®°å½• `Place` çš„è½¬æ¢æ¬¡æ•°ï¼Œä¹‹åï¼Œæ·»åŠ ä¸€ä¸ªåˆ¤æ–­ `num_transition` æ˜¯å¦ä½äºå°„ç¨‹åŒºé—´å†…çš„æ¡ä»¶ã€‚`lower_bound` å’Œ `upper_bound` éœ€è¦ä½¿ç”¨å®ä¾‹å±æ€§ï¼Œå³å‰é¢åŠ ä¸Š `self` ä»è€Œåæ˜ å…·ä½“ç±»å‹çš„ç‰¹å®šå€¼ã€‚

  å¯¹äº `ThrowerAnt` ç±»ä¸­ `lower_bound` å’Œ `upper_bound` å±æ€§çš„å€¼ï¼Œåˆ†åˆ«èµ‹äºˆ 0 å’Œ `float('inf)`ï¼Œä»è€Œä¸å½±å“ `ThrowerAnt` çš„è¡Œä¸ºã€‚å¯¹äº `LongThrower` å’Œ `ShortThrower`ï¼Œåªéœ€è¦åˆ†åˆ«é‡å†™ `lower_bound` å’Œ `upper_bound` å³å¯ã€‚

  ```python
  ldef nearest_bee(self):
          """Return the nearest Bee in a Place that is not the HIVE, connected to
          the ThrowerAnt's Place by following entrances.
  
          This method returns None if there is no such Bee (or none in range).
          """
          # BEGIN Problem 3 and 4
          # è·å–å®é™…çš„å°„ç¨‹è¾¹ç•Œï¼Œä¼˜å…ˆä½¿ç”¨å®ä¾‹å±æ€§ï¼ˆæµ‹è¯•ç”¨ä¾‹å¯èƒ½è®¾ç½®ï¼‰ï¼Œå¦åˆ™ä½¿ç”¨ç±»å±æ€§
          lower = getattr(self, 'min_range', self.lower_bound)
          upper = getattr(self, 'max_range', self.upper_bound)
          
          current_place = self.place
          num_transition = 0
          
          # æ·»åŠ å¯¹ current_place æ˜¯å¦ä¸º None çš„æ£€æŸ¥
          while current_place is not None and not current_place.is_hive:
              if lower <= num_transition <= upper:
                  if len(current_place.bees) > 0:
                      return random_bee(current_place.bees)
              current_place = current_place.entrance
              num_transition += 1
          return None
          # END Problem 3 and 4
  ```

  ![image-20260111180021453](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111180021453.png)

- ##### é—®é¢˜5

  å®ç° `FireAnt` ï¼Œå®ƒåœ¨å—åˆ°ä¼¤å®³æ—¶ä¼šé€ æˆä¼¤å®³ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœå®ƒå—åˆ° `amount` ç‚¹ç”Ÿå‘½å€¼çš„ä¼¤å®³ï¼Œå°±ä¼šå¯¹æ‰€åœ¨ä½ç½®çš„æ‰€æœ‰èœœèœ‚é€ æˆ `amount` ç‚¹ä¼¤å®³ï¼ˆè¿™ç§°ä¸ºåå°„ä¼¤å®³ï¼‰ã€‚å¦‚æœå®ƒæ­»äº¡ï¼Œè¿˜ä¼šæ ¹æ®å…¶ `damage` å±æ€§é€ æˆé¢å¤–ä¼¤å®³ï¼Œè¯¥å±æ€§åœ¨ `FireAnt` ç±»ä¸­å®šä¹‰çš„é»˜è®¤å€¼ä¸º `3`ã€‚

  <table class="ant">
  <tr>
      <td><b>ç±»</b></td>
    <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
  <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_fire.gif" /> <br> <code>FireAnt</code></td>
    <td>5</td>
      <td>3</td>
  </td>
  </table>

  è¦å®ç°è¿™ä¸€ç‚¹ï¼Œéœ€è¦åœ¨ `FireAnt` ä¸­ é‡å†™ `Insect` çš„ `reduce_health` æ–¹æ³•ã€‚
  
  ä½ çš„æ–¹æ³•è¿˜éœ€è¦åŒ…å«åå°„ä¼¤å®³çš„é€»è¾‘ï¼š
  
  - ç¡®å®šåå°„ä¼¤å®³é‡ï¼šä»èš‚èšå—åˆ°çš„ `amount` ä¼¤å®³å¼€å§‹è®¡ç®—ï¼Œå¦‚æœèš‚èšçš„ç”Ÿå‘½å€¼é™è‡³ 0 æˆ–ä»¥ä¸‹ï¼Œåˆ™é¢å¤–å¢åŠ  `damage` ã€‚
  - å¯¹äºè¯¥åœ°ç‚¹ä¸­çš„æ¯åªèœœèœ‚ï¼Œé€šè¿‡è°ƒç”¨é€‚å½“çš„ `reduce_health` æ–¹æ³•ï¼Œç”¨æ€»ä¼¤å®³é‡å¯¹å®ƒä»¬é€ æˆä¼¤å®³ã€‚
  
  é‡è¦æç¤ºï¼šè¯·è®°ä½ï¼Œå½“ä»»ä½• `Ant` çš„ç”Ÿå‘½å€¼é™ä¸ºé›¶æ—¶ï¼Œå®ƒå°†è¢«ä»å…¶ `place` ä¸­ç§»é™¤ï¼Œå› æ­¤åœ¨ `reduce_health` ä¸­è¦ç‰¹åˆ«æ³¨æ„é€»è¾‘é¡ºåºã€‚
  
  é‡è¦æç¤ºï¼šå¯¹èœœèœ‚é€ æˆä¼¤å®³å¯èƒ½å¯¼è‡´å…¶è¢«ç§»å‡ºå½“å‰ä½ç½®ï¼›å½“æ˜†è™«æ­»äº¡æ—¶ï¼Œå®ƒä¼šè¢«ç§»å‡ºå½“å‰æ‰€åœ¨ä½ç½®ã€‚å¦‚æœåœ¨éå†åˆ—è¡¨çš„åŒæ—¶ä¿®æ”¹è¯¥åˆ—è¡¨çš„å†…å®¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ— æ³•è®¿é—®æ‰€æœ‰å…ƒç´ ã€‚ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥åˆ›å»ºåˆ—è¡¨çš„å‰¯æœ¬ã€‚æ‚¨æ—¢å¯ä»¥ä½¿ç”¨åˆ—è¡¨åˆ‡ç‰‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å†…ç½®çš„ `list` å‡½æ•°æ¥ç¡®ä¿åŸå§‹åˆ—è¡¨ä¸å—å½±å“ã€‚
  
  å› æ­¤ï¼Œæˆ‘çš„å®ç°é€»è¾‘æ˜¯ï¼šé¦–å…ˆè·å–èœœèœ‚åˆ—è¡¨çš„å‰¯æœ¬ï¼Œæ£€æŸ¥ä¼¤å®³æ˜¯å¦è‡´å‘½ï¼Œä¹‹åå‡å°‘èš‚èšçš„ç”Ÿå‘½å€¼ï¼Œå†æ ¹æ®æ˜¯å¦è‡´å‘½è®¡ç®—æ€»ä¼¤å®³ï¼Œä¹‹åå¯¹è¯¥ä½ç½®çš„æ‰€æœ‰èœœèœ‚é€ æˆæ€»ä¼¤å®³ã€‚
  
  ```python
  def reduce_health(self, amount):
      """Reduce health by AMOUNT, and remove the FireAnt from its place if it
      has no health remaining.
  
      Make sure to reduce the health of each bee in the current place, and apply
      the additional damage if the fire ant dies.
      """
      # BEGIN Problem 5
      "*** YOUR CODE HERE ***"
      bees_in_place = self.place.bees[:]
  
      is_fatal = amount >= self.health
  
      super().reduce_health(amount)
  
      total_damage = amount
      if is_fatal:
          total_damage += self.damage
  
      for bee in bees_in_place:
          bee.reduce_health(total_damage)
  
       # END Problem 5
  ```

   æµ‹è¯•ç»“æœï¼š![image-20260111203445200](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111203445200.png)

#### Phase 3

- é—®é¢˜6

  å®ç° `WallAnt` ï¼Œè¿™æ˜¯ä¸€ç§æ¯å›åˆä¸é‡‡å–ä»»ä½•è¡ŒåŠ¨çš„èš‚èšã€‚ `WallAnt` ä¹‹æ‰€ä»¥æœ‰ç”¨ï¼Œæ˜¯å› ä¸ºå®ƒå…·æœ‰è¾ƒé«˜çš„ `health` å€¼ã€‚

  æ ¹æ® `WallAnt` çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦é‡å†™ `name`ã€`food_cost`ã€`implemented` è¿™ä¸‰ä¸ªç±»å±æ€§ï¼Œå¹¶é‡å†™ `__init__` æ–¹æ³•ï¼Œä½¿ç”¨ä¸åŒçš„ `health` å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚

  <table class="ant">
    <tr>
      <td><b>ç±»</b></td>
      <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_wall.gif" /> <br> <code>WallAnt</code></td>
      <td>4</td>
      <td>4</td>
    </td>
  </table>

  ```python
  class WallAnt(Ant):
      name = 'Wall'
      food_cost = 4
      implemented = True
  
      def __init__(self, health=4):
          super().__init__(health)
          
  ```

  æµ‹è¯•ç»“æœï¼š![image-20260111204601650](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111204601650.png)

- ##### é—®é¢˜7

  å®ç° `HungryAnt` ï¼Œå®ƒä¼šä»å…¶ `place` ä¸­éšæœºé€‰æ‹©ä¸€åª `Bee` ï¼Œå¹¶å¯¹å…¶é€ æˆç­‰åŒäºè¯¥ `Bee` ç”Ÿå‘½å€¼çš„ä¼¤å®³ï¼Œå°†å…¶æ•´ä¸ªåä¸‹ã€‚åé£Ÿ `Bee` åï¼Œ `HungryAnt` éœ€è¦èŠ±è´¹ 3 ä¸ªå›åˆè¿›è¡Œå’€åš¼ï¼Œä¹‹åæ‰èƒ½å†æ¬¡è¿›é£Ÿã€‚å½“ `HungryAnt` æ­£åœ¨å’€åš¼æ—¶ï¼Œå®ƒæ— æ³•åé£Ÿï¼ˆæ”»å‡»ï¼‰ä»»ä½• `Bee` ã€‚å¦‚æœå½“å‰ä½ç½®æ²¡æœ‰å¯åé£Ÿçš„èœœèœ‚ï¼Œ `HungryAnt` å°†ä¸ä¼šé‡‡å–ä»»ä½•è¡ŒåŠ¨ã€‚

  <table class="ant">
    <tr>
      <td><b>ç±»</b></td>
      <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_hungry.gif" /> <br> <code>HungryAnt</code></td>
      <td>4</td>
      <td>1</td>
    </td>
  </table>

  `HungryAnt` ç±»æ˜¯ `action` æ¯”è¾ƒç‰¹æ®Šçš„ `Ant` ç±»ï¼Œå› æ­¤æˆ‘ä»¬ç»§æ‰¿ `Ant` ç±»ã€‚æˆ‘ä»¬ä¸º `HungryAnt` æ·»åŠ ä¸€ä¸ª `chew_cooldown` ç±»å±æ€§ï¼Œç”¨äºå­˜å‚¨ `HungryAnt` å’€åš¼æ‰€éœ€çš„å›åˆæ•°ï¼Œåœ¨å„ä¸ªå®ä¾‹ä¸­å…±äº«ã€‚è€Œå„ä¸ªå®ä¾‹å…·æœ‰è‡ªå·±çš„å®ä¾‹å±æ€§ `cooldown` ï¼Œç”¨äºè®°å½•å‰©ä½™å’€åš¼å›åˆæ•°ã€‚

  å¯¹äº `HungryAnt` çš„ `action` æ–¹æ³•ï¼šé¦–å…ˆæ£€æŸ¥å®ƒæ˜¯å¦åœ¨å’€åš¼ï¼›å¦‚æœæ˜¯ï¼Œåˆ™å‡å°‘å…¶ `cooldown` ã€‚å¦åˆ™ï¼Œå¦‚æœå…¶ `place` ä¸­æœ‰èœœèœ‚ï¼Œåˆ™éšæœºé€‰å–ä¸€åªåƒæ‰ï¼Œå¹¶è®¾ç½® `cooldown`ã€‚

  ```python
  # BEGIN Problem 7
  class HungryAnt(Ant):
      name = 'Hungry'
      food_cost = 4
      implemented = True
      chew_duration = 3  
  
      def __init__(self, health=1): 
          super().__init__(health)
          self.chew_countdown = 0  
  
      def action(self, gamestate):
          if self.chew_countdown > 0:
              self.chew_countdown -= 1
          else:
              if self.place.bees:
                  bee = random_bee(self.place.bees)
                  bee.reduce_health(bee.health)
                  self.chew_countdown = HungryAnt.chew_duration
  # END Problem 7
  
  ```

  æµ‹è¯•ç»“æœï¼š![image-20260112111103515](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112111103515.png)

- ##### é—®é¢˜8

  æˆ‘ä»¬å¸Œæœ›å®ç°å¯ä»¥å®¹çº³å¹¶ä¿æŠ¤å¦ä¸€åªèš‚èšçš„èš‚èšç±»å‹ã€‚ç”±äºè¯¥ç±»å‹è¿˜å¯èƒ½æœ‰æ›´ç‰¹åŒ–çš„å­ç±»ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ª `ContainerAnt` ä½œä¸ºçˆ¶ç±»ã€‚ä¹‹åï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªå­ç±» `BodyguardAnt`ã€‚

  <table class="ant">
    <tr>
      <td><b>ç±»</b></td>
      <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_bodyguard.gif" /> <br> <code>BodyguardAnt</code></td>
      <td>4</td>
      <td>2</td>
    </tr>
  </table>

  æˆ‘ä»¬é€šè¿‡ç±»å±æ€§ `is_container` æ¥è¯†åˆ«æ˜¯å¦æ˜¯ `ContainerAnt`ï¼Œé€šè¿‡å®ä¾‹å±æ€§ `ant_contained` å­˜å‚¨è¢«åŒ…å«çš„èš‚èšã€‚

  æˆ‘ä»¬éœ€è¦å®ç°ï¼š

  - `store_ant` æ–¹æ³•ï¼šå°† `ContainerAnt` çš„ `ant_contained` å®ä¾‹å±æ€§è®¾ç½®ä¸ºä¼ å…¥çš„ `ant` å‚æ•°ã€‚
  - `ContainerAnt` çš„ `action` æ–¹æ³•ï¼šå¦‚æœæˆ‘ä»¬çš„ `ContainerAnt` å½“å‰åŒ…å«èš‚èšï¼Œå°±ä¼šæ‰§è¡Œ `ant_contained` çš„åŠ¨ä½œï¼Œè€Œ `ContainerAnt` æœ¬èº«æ²¡æœ‰åŠ¨ä½œã€‚
  - `can_contain` æ–¹æ³•ï¼šåˆ¤æ–­æ˜¯å¦å¯ä»¥åŒ…å«å¦ä¸€åªèš‚èšï¼Œéœ€è¦æ»¡è¶³è¿™ä¸ª `ContainerAnt` è¿˜æ²¡æœ‰æ”¾ç½®å…¶ä»–èš‚èšå¹¶ä¸”å¦ä¸€åªèš‚èšä¸æ˜¯å®¹å™¨ã€‚

  æ³¨æ„ï¼Œæˆ‘ä»¬éœ€è¦å‘ `self.ant_contained.action` ä¼ å…¥ `gamestate` è€Œä¸æ˜¯ `self.ant_contained`ï¼Œå› ä¸º `action` çš„å‡½æ•°ç­¾åä¸­è§„å®šäº†éœ€è¦ `gamestate`ï¼ˆ`HarvesterAnt` éœ€è¦ï¼‰ï¼Œè€Œè¿™é‡Œ `action` ä½œä¸ºç»‘å®šæ–¹æ³•è°ƒç”¨ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•° `self` ä¼šè¢«éšå¼åœ°ä¼ é€’ï¼Œå¦‚æœ `self.ant_contained.action(self.ant_contained)`ï¼Œåˆ™ `self.ant_contained` ä¼šè¢«ä¼ é€’ç»™ `gamestate` å‚æ•°ï¼Œä»è€Œå‘ç”Ÿé”™è¯¯ã€‚

  ```python
  class ContainerAnt(Ant):
      """
      ContainerAnt can share a space with other ants by containing them.
      """
      is_container = True
  
      def __init__(self, health):
          super().__init__(health)
          self.ant_contained = None
  
      def can_contain(self, other):
          # BEGIN Problem 8a
          "*** YOUR CODE HERE ***"
          return (self.ant_contained is None) and (not other.is_container)
          # END Problem 8a
  
      def store_ant(self, ant):
          # BEGIN Problem 8a
          "*** YOUR CODE HERE ***"
          self.ant_contained = ant
          # END Problem 8a
  
      def remove_ant(self, ant):
          if self.ant_contained is not ant:
              assert False, "{} does not contain {}".format(self, ant)
          self.ant_contained = None
  
      def remove_from(self, place):
          # Special handling for container ants
          if place.ant is self:
              # Container was removed. Contained ant should remain in the game
              place.ant = place.ant.ant_contained
              Insect.remove_from(self, place)
          else:
              # default to normal behavior
              Ant.remove_from(self, place)
  
      def action(self, gamestate):
          # BEGIN Problem 8a
          "*** YOUR CODE HERE ***"
          if self.ant_contained:
              self.ant_contained.action(gamestate)
          # END Problem 8a
  ```

  ç”±äº `ContainerAnt` çš„ç‰¹æ®Šæ€§ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å°†èš‚èšæ·»åŠ åˆ° `Place` çš„æ–¹æ³• `Ant.add_to`ï¼Œå…è®¸å®¹å™¨åŠå…¶åŒ…å«çš„èš‚èšæ ¹æ®ç‰¹å®šè§„åˆ™å æ®åŒä¸€ä½ç½®ã€‚

  é¢˜ç›®ç»™å‡ºçš„è§„åˆ™å¯ä»¥æ€»ç»“ä¸ºï¼Œåœ¨æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œè¿›è¡Œç›¸åº”çš„æ·»åŠ ï¼Œå¦åˆ™æŠ›å‡ºé”™è¯¯ï¼š

  - åŸæœ¬å æ®ä½ç½®çš„èš‚èšæ˜¯å®¹å™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿå®¹çº³è¢«æ·»åŠ çš„èš‚èš
  - æ·»åŠ çš„èš‚èšæ˜¯å®¹å™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿå®¹çº³åŸæœ¬åœ¨è¯¥ä½ç½®çš„èš‚èš

  ```python
  def add_to(self, place):
      if place.ant is None:
          place.ant = self
      else:
          # BEGIN Problem 8b
          if (place.ant.is_container) and (place.ant.can_contain(self)):
              place.ant.store_ant(self)
          elif (self.is_container) and (self.can_contain(place.ant)):
              self.store_ant(place.ant)
              place.ant = self
          else:
              assert place.ant is None, 'Two ants in {0}'.format(place)
          # END Problem 8b
      Insect.add_to(self, place)
  ```

  åªéœ€è¦æ ¹æ®é¢˜ç›®çš„å‚æ•°é‡å†™ `__init__` å³å¯ã€‚

  ```python
  class BodyguardAnt(ContainerAnt):
      """BodyguardAnt provides protection to other Ants."""
  
      name = 'Bodyguard'
      food_cost = 4
      # OVERRIDE CLASS ATTRIBUTES HERE
      # BEGIN Problem 8c
      implemented = True   # Change to True to view in the GUI
  
      def __init__(self, health=2):
          super().__init__(health)
      # END Problem 8c
  ```

  ![image-20260112174407586](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112174407586.png)

- ##### é—®é¢˜9

  `TankAnt` æ˜¯ä¸€ç§ `ContainerAnt` ï¼Œæ—¢èƒ½åŸåœ°ä¿æŠ¤èš‚èšï¼Œåˆèƒ½æ¯å›åˆå¯¹åŒæ ¼æ‰€æœ‰èœœèœ‚é€ æˆ 1 ç‚¹ä¼¤å®³ã€‚å’Œæ‰€æœ‰ `ContainerAnt` ä¸€æ ·ï¼Œ `TankAnt` èƒ½è®©å…¶å†…éƒ¨çš„èš‚èšæ¯å›åˆæ‰§è¡Œè¡ŒåŠ¨ã€‚

  <table class="ant">
  <tr>
      <td><b>ç±»</b></td>
    <td><b>é£Ÿç‰©æˆæœ¬</b></td>
      <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
    </tr>
    <tr>
      <td><img class="img-responsive center-block" src="assets/insects/ant_tank.gif" /> <br> <code>TankAnt</code></td>
      <td>6</td>
      <td>2</td>
    </tr>
  </table>
  
  æˆ‘ä»¬éœ€è¦ä» `TankAnt` çš„çˆ¶ç±»ä¸­é‡å†™çš„æ–¹æ³•åªæœ‰ `__init__` å’Œ `action` ã€‚
  
  æˆ‘çš„é€»è¾‘æ˜¯ï¼Œé¦–å…ˆåƒ `FireAnt` ä¸€æ ·ï¼Œè·å–å½“å‰ä½ç½®çš„èœœèœ‚ï¼Œéå†ä»–ä»¬ï¼Œé€ æˆä¼¤å®³ï¼Œä¹‹åï¼Œè°ƒç”¨çˆ¶ç±»çš„ `action`ï¼Œè®©è¢«åŒ…å«çš„èš‚èšæ‰§è¡ŒåŠ¨ä½œã€‚
  
  ```python
  # BEGIN Problem 9
  # The TankAnt class
  class TankAnt(ContainerAnt):
      name = 'Tank'
      damage = 1
      food_cost = 6
      implemented = True
  
      def __init__(self, health=2):
          super().__init__(health)
  
      def action(self, gamestate):
          bees_in_place = self.place.bees[:]
          for b in bees_in_place:
              b.reduce_health(self.damage)
          super().action(gamestate)
  # END Problem 9
  ```

![image-20260112174610282](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112174610282.png)

#### Phase 4

é—®é¢˜10

æˆ‘ä»¬æ¥åˆ›å»ºä¸€ç§æ–°çš„ `Place` ï¼Œå«åš `Water` ã€‚

åªæœ‰é˜²æ°´çš„æ˜†è™«æ‰èƒ½è¢«æ”¾ç½®åœ¨ `Water` ä¸­ã€‚ä¸ºäº†åˆ¤æ–­æŸä¸ª `Insect` æ˜¯å¦é˜²æ°´ï¼Œéœ€è¦åœ¨ `Insect` ç±»ä¸­æ·»åŠ ä¸€ä¸ªåä¸º `is_waterproof` çš„æ–°ç±»å±æ€§ï¼Œå¹¶å°†å…¶è®¾ä¸º `False` ã€‚ç”±äºèœœèœ‚ä¼šé£ï¼Œå®ƒä»¬çš„ `is_waterproof` å±æ€§å€¼ä¸º `True` ï¼Œè¿™ä¼šè¦†ç›–ç»§æ‰¿æ¥çš„å€¼ã€‚

ç°åœ¨ï¼Œä¸º `Water` å®ç° `add_insect` æ–¹æ³•ã€‚é¦–å…ˆï¼Œæ— è®ºæ˜†è™«æ˜¯å¦é˜²æ°´ï¼Œéƒ½å°†å…¶æ·»åŠ åˆ°åœ°ç‚¹ä¸­ã€‚ç„¶åï¼Œå¦‚æœæ˜†è™«ä¸é˜²æ°´ï¼Œå°†å…¶ç”Ÿå‘½å€¼é™è‡³ 0ã€‚

é¦–å…ˆåœ¨ `Insect` ä¸­æ·»åŠ ä¸€ä¸ªåä¸º `is_waterproof` çš„æ–°ç±»å±æ€§ï¼Œå¹¶å°†å…¶è®¾ä¸º `False` ã€‚ä¹‹åï¼Œå¯¹äº `Water` çš„ `add_insect` æ–¹æ³•ï¼Œé¦–å…ˆè°ƒç”¨åŸºç±»å·²æœ‰çš„ `add_insect`ï¼Œä¹‹åæ ¹æ®æ˜†è™«æ˜¯å¦é˜²æ°´æ¥é™ä½æ˜†è™«çš„ç”Ÿå‘½å€¼ã€‚

```python
class Water(Place):
    """Water is a place that can only hold waterproof insects."""

    def add_insect(self, insect):
        """Add an Insect to this place. If the insect is not waterproof, reduce
        its health to 0."""
        # BEGIN Problem 10
        super().add_insect(insect)
        if not insect.is_waterproof:
            insect.reduce_health(insect.health)
        # END Problem 10
```

![image-20260112182618904](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112182618904.png)

é—®é¢˜11

`ScubaThrower` æ˜¯ `ThrowerAnt` çš„ä¸€ä¸ªå­ç±»ï¼Œæˆæœ¬æ›´é«˜ä¸”é˜²æ°´ï¼Œä½†å…¶ä»–æ–¹é¢ä¸åŸºç±»ç›¸åŒã€‚ `ScubaThrower` æ”¾ç½®åœ¨ `Water` æ—¶ä¸åº”æŸå¤±ç”Ÿå‘½å€¼ã€‚

<table class="ant">
  <tr>
    <td><b>ç±»</b></td>
    <td><b>é£Ÿç‰©æˆæœ¬</b></td>
    <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
  </tr>
  <tr>
    <td><img class="img-responsive center-block" src="assets/insects/ant_scuba.gif" /> <br> <code>ScubaThrower</code></td>
    <td>6</td>
    <td>1</td>
  </tr>
</table>

å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦é‡å†™ `name`ã€`is_waterproof`ã€`food_cost`ã€‚

```python
# BEGIN Problem 11
# The ScubaThrower class
class ScubaThrower(ThrowerAnt):
    name = 'Scuba'
    food_cost = 6
    is_waterproof = True
    implemented = True
# END Problem 11
```

æµ‹è¯•ç»“æœï¼š![image-20260112183057782](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112183057782.png)

é—®é¢˜12

å®ç° `QueenAnt` ã€‚ `QueenAnt` æ˜¯ä¸€ç§ `ThrowerAnt` ï¼Œå¥¹é€šè¿‡è‡ªå·±çš„å‹‡æ•¢æ¿€åŠ±åŒä¼´ã€‚é™¤äº†æ‰§è¡Œæ ‡å‡†çš„ `ThrowerAnt` åŠ¨ä½œä¹‹å¤–ï¼Œæ¯æ¬¡ `QueenAnt` æ‰§è¡ŒåŠ¨ä½œæ—¶ï¼Œå¥¹ä¼šè®©å¥¹èº«åæ‰€æœ‰èš‚èšçš„ä¼¤å®³ç¿»å€ã€‚ä¸è¿‡ï¼Œä¸€æ—¦æŸåªèš‚èšçš„ä¼¤å®³å·²ç»è¢«ç¿»å€è¿‡äº†ï¼Œå°±ä¸èƒ½å†è¢«ç¿»å€ã€‚ï¼ˆæç¤ºï¼šç”¨å®ä¾‹å±æ€§æ¥è®°å½•èš‚èšæ˜¯å¦å·²è¢«å¼ºåŒ–è¿‡ï¼‰ã€‚

<table class="ant">
<tr>
    <td><b>ç±»</b></td>
  <td><b>é£Ÿç‰©æˆæœ¬</b></td>
    <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
</tr>
  <tr>
  <td><img class="img-responsive center-block" src="assets/insects/ant_queen.gif" /> <br> <code>QueenAnt</code></td>
    <td>7</td>
  <td>1</td>
  </tr>
</table>

å¦‚æœèœ‚ç‹çš„ç”Ÿå‘½å€¼è¢«å‡å°‘åˆ° 0ï¼Œèš‚èšä¸€æ–¹å°±è¾“äº†ã€‚ä½ éœ€è¦åœ¨ `QueenAnt` ä¸­é‡å†™ `Insect.reduce_health` ï¼Œå¹¶åœ¨è¿™ç§æƒ…å†µä¸‹è°ƒç”¨ `ants_lose()` ï¼Œä»¥æ­¤å‘æ¨¡æ‹Ÿå™¨è¡¨æ˜æ¸¸æˆå·²ç»ç»“æŸã€‚ï¼ˆå¦‚æœä»»ä½•ä¸€åªèœœèœ‚åˆ°è¾¾äº†éš§é“çš„ç»ˆç‚¹ï¼Œèš‚èšä¹Ÿä¼šè¾“æ‰æ¸¸æˆã€‚ï¼‰

å¯¹äºåŠ å€èš‚èšçš„ä¼¤å®³ï¼Œæˆ‘å¸Œæœ›åœ¨ `QueenAnt` ä¸­è¿›è¡Œéå†èº«åçš„èš‚èšï¼Œå¹¶è°ƒç”¨ `double` ï¼Œå¯¹äºå·²ç»è¢«åŠ å€ä»¥åŠå®¹å™¨èš‚èšçš„å¤„ç†åœ¨ `Ant` ç±»ä¸­çš„ `double` ä¸­å®Œæˆã€‚

ç”±äºâ€œæ˜¯å¦è¢«å¼ºåŒ–è¿‡â€è¿™ä¸ªå±æ€§å¹¶ä¸æ˜¯æ‰€æœ‰åŒç±»å‹èš‚èšå…±äº«çš„ï¼ˆä¾‹å¦‚ `food_cost` ï¼‰ï¼Œæ¯ä¸ªå¯¹è±¡çš„â€œæ˜¯å¦è¢«å¼ºåŒ–è¿‡â€å±æ€§éƒ½å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œå› æ­¤ï¼Œæˆ‘è®¾ç½®äº†ä¸€ä¸ªå®ä¾‹å±æ€§ `doubled` ç”¨æ¥è®°å½•ã€‚

å¯¹äº `double`ï¼Œé¦–å…ˆç›´æ¥æ“ä½œ `self`ï¼Œä¹‹åï¼Œå¤„ç†è¢«åŒ…å«çš„èš‚èšã€‚

`QueenAnt`çš„ `reduce_health` æ–¹æ³•è¿˜éœ€è¦è°ƒç”¨ `ants_lose` ï¼Œè¿™æ˜¯å¯¹çˆ¶ç±» `reduce_health` æ–¹æ³•çš„é¢å¤–ä»»åŠ¡ã€‚æˆ‘ä»¬æ€æ ·æ‰èƒ½ç¡®ä¿ä»ç„¶æ‰§è¡Œçˆ¶ç±»æ–¹æ³•ä¸­çš„æ‰€æœ‰æ“ä½œï¼ŒåŒæ—¶åˆä¸é‡å¤ç¼–å†™ä»£ç å‘¢ï¼Ÿ

æˆ‘ä¾ç„¶é‡‡å– `FireAnt` ç›¸ä¼¼çš„æ¨¡å¼ï¼Œå…ˆåˆ¤æ–­ä¼¤å®³æ˜¯å¦è‡´æ­»ï¼Œå†å‡å°‘ç”Ÿå‘½å€¼ï¼Œå¦‚æœè‡´æ­»åˆ™è°ƒç”¨ `ants_lose`ã€‚

æµ‹è¯•ç»“æœï¼š

![image-20260112223910619](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112223910619.png)

- ##### é—®é¢˜EC

å®ç°æœ€åä¸¤ç§æŠ•æ·èšSlowThrowerå’ŒScaryThrowerï¼Œå®ƒä»¬ä¸é€ æˆä¼¤å®³ï¼Œè€Œæ˜¯åœ¨å®ƒä»¬ `throw_at`ï¼ˆæŠ•æ·ï¼‰çš„ `Bee`ï¼ˆèœœèœ‚ï¼‰å®ä¾‹çš„ `action`ï¼ˆè¡ŒåŠ¨ï¼‰æ–¹æ³•ä¸Šæ–½åŠ ä¸€ä¸ªä¸´æ—¶çš„â€œçŠ¶æ€â€ã€‚è¿™ä¸ªâ€œçŠ¶æ€â€ä¼šæŒç»­ä¸€å®šçš„å›åˆæ•°ï¼Œä¹‹åä¾¿ä¸å†ç”Ÿæ•ˆã€‚

<table class="ant">
  <tr>
    <td><b>ç±»</b></td>
    <td><b>é£Ÿç‰©æˆæœ¬</b></td>
    <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
  </tr>
  <tr>
    <td><img class="img-responsive center-block" src="assets/insects/ant_slow.gif" /> <br> <code>SlowThrower</code></td>
    <td>4</td>
    <td>1</td>
  </tr>
  <tr>
    <td><img class="img-responsive center-block" src="assets/insects/ant_scary.gif" /> <br> <code>ScaryThrower</code></td>
    <td>6</td>
    <td>1</td>
  </tr>
</table>

æˆ‘ä»¬å°†å®ç°ä¸¤ä¸ªç»§æ‰¿è‡ª `ThrowerAnt` çš„æ–°èš‚èšã€‚

- SlowThrower é€šè¿‡å‘èœœèœ‚æŠ•æ·ç²˜æ€§ç³–æµ†å®ç°å‡é€Ÿæ§åˆ¶ã€‚å½“èœœèœ‚è¢«å‡»ä¸­æ—¶ï¼Œå…¶å‡é€ŸçŠ¶æ€è®¡æ•°å™¨å¢åŠ 3ä¸ªå›åˆã€‚åœ¨å‡é€ŸçŠ¶æ€ä¸‹ï¼Œèœœèœ‚åªèƒ½åœ¨æ¸¸æˆæ—¶é—´çš„å¶æ•°å›åˆæ‰§è¡Œè¡ŒåŠ¨ï¼Œå¥‡æ•°å›åˆå®Œå…¨æ— æ³•ç§»åŠ¨æˆ–æ”»å‡»ã€‚è¿™ç§æ•ˆæœå¯å åŠ ï¼Œé‡å¤å‘½ä¸­å¯å»¶é•¿å‡é€ŸæŒç»­æ—¶é—´ã€‚å®ç°ä¸­ï¼Œæˆ‘ä»¬åœ¨Beeç±»æ·»åŠ `slow_length`å±æ€§è·Ÿè¸ªå‰©ä½™å‡é€Ÿå›åˆï¼Œå¹¶åœ¨`action`æ–¹æ³•å¼€å¤´æ£€æŸ¥å‡é€ŸçŠ¶æ€ï¼šè‹¥`slow_length > 0`ä¸”å½“å‰å›åˆä¸ºå¥‡æ•°ï¼Œåˆ™èœœèœ‚ç›´æ¥ç»“æŸæœ¬å›åˆã€‚è¿™ç§æœºåˆ¶è¿«ä½¿ç©å®¶è€ƒè™‘å›åˆåŒæ­¥æ€§ï¼Œåœ¨ç‹­çª„é€šé“éƒ¨ç½²å¯æ˜¾è‘—å»¶ç¼“èœœèœ‚æ¨è¿›é€Ÿåº¦ã€‚

- ScaryThrower é‡‡ç”¨å¿ƒç†æå“æ”¹å˜èœœèœ‚ç§»åŠ¨æ–¹å‘ã€‚é¦–æ¬¡è¢«å‡»ä¸­çš„èœœèœ‚ä¼šè½¬å‘åé€€ï¼Œéœ€æˆåŠŸå°è¯•åé€€ä¸¤æ¬¡æ‰æ¢å¤å‰è¿›ï¼Œä¸”åŒä¸€èœœèœ‚åªå—ä¸€æ¬¡æƒŠå“æ•ˆæœã€‚å®ç°ä¸­ï¼ŒBeeç±»æ·»åŠ `scare_length`è®°å½•éœ€å°è¯•çš„åé€€æ¬¡æ•°ï¼Œ`has_been_scared`æ ‡è®°æ˜¯å¦å·²è¢«æƒŠå“ï¼Œ`direction`æ§åˆ¶ç§»åŠ¨æ–¹å‘ã€‚æƒŠå“ä¸å‡é€ŸçŠ¶æ€å­˜åœ¨äº¤äº’ï¼šè¢«å‡é€Ÿèœœèœ‚åœ¨å¥‡æ•°å›åˆæ— æ³•å°è¯•åé€€ã€‚è¾¹ç•Œå¤„ç†ä¸Šï¼Œè‹¥èœœèœ‚åœ¨èœ‚å·¢æ—æ— æ³•åé€€ï¼Œåˆ™è‡ªåŠ¨æ¸…é™¤æƒŠå“çŠ¶æ€ã€‚è¿™ç§è®¾è®¡èƒ½åœ¨å…³é”®ä½ç½®æ‰“ä¹±è¿›æ”»èŠ‚å¥ï¼Œä¸å‡é€Ÿæ•ˆæœå½¢æˆå¼ºåŠ›æ§åˆ¶ç»„åˆï¼Œä»¥è¾ƒä½æˆæœ¬å®ç°é«˜æ•ˆåŒºåŸŸé˜²å¾¡ã€‚

  ```python
  class SlowThrower(ThrowerAnt):
      """ThrowerAnt that causes Slow on Bees."""
      name = 'Slow'
      food_cost = 4
      # BEGIN Problem EC
      implemented = True
      # END Problem EC
  
      def throw_at(self, target):
          if target:
              target.slow(3)
  
  
  class ScaryThrower(ThrowerAnt):
      """ThrowerAnt that intimidates Bees, making them back away instead of advancing."""
  
      name = 'Scary'
      food_cost = 6
      # BEGIN Problem EC
      implemented = True   # Change to True to view in the GUI
      # END Problem EC
  
      def throw_at(self, target):
          # BEGIN Problem EC
          "*** YOUR CODE HERE ***"
          if target:
              target.scare(2)
          # END Problem EC
  ```

  å®éªŒç»“æœï¼š

  ![image-20260112233121145](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112233121145.png)

- ##### Option1ï¼šNinjaAntï¼ˆå¿è€…èšï¼‰åŠŸèƒ½ä¸å®ç°

<table class="ant">
  <tr>
    <td><b>ç±»</b></td>
    <td><b>é£Ÿç‰©æˆæœ¬</b></td>
    <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
  </tr>
  <tr>
    <td><img class="img-responsive center-block" src="assets/insects/ant_ninja.gif" /> <br> <code>NinjaAnt</code></td>
    <td>5</td>
    <td>1</td>
  </td>
</table>

NinjaAnt æ˜¯ä¸€ç§å…·æœ‰ç‰¹æ®Šé˜²å¾¡æœºåˆ¶çš„èš‚èšï¼Œå®ƒä¸ä¼šåƒæ™®é€šèš‚èšä¸€æ ·é˜»æŒ¡èœœèœ‚çš„å‰è¿›è·¯çº¿ï¼Œè€Œæ˜¯å…è®¸èœœèœ‚ç›´æ¥ä»è‡ªèº«æ‰€åœ¨çš„ä½ç½®é€šè¿‡ã€‚æ­£å› ä¸ºä¸é˜»æŒ¡è·¯å¾„ï¼Œèœœèœ‚åœ¨ç»è¿‡ NinjaAnt æ—¶ä¸ä¼šåœä¸‹æ¥æ”»å‡»å®ƒï¼Œä»è€Œä½¿ NinjaAnt èƒ½å¤Ÿåœ¨æˆ˜æ–—ä¸­é•¿æœŸå­˜æ´»å¹¶æŒç»­å‘æŒ¥ä½œç”¨ã€‚å°½ç®¡ NinjaAnt ä¸ä¼šæ‹¦æˆªèœœèœ‚ï¼Œä½†å®ƒåœ¨æ¯ä¸ªå›åˆéƒ½ä¼šå¯¹ä¸å…¶å¤„äºåŒä¸€ä½ç½®çš„æ‰€æœ‰èœœèœ‚é€ æˆä¼¤å®³ï¼Œè¿™ä½¿å¾—èœœèœ‚åœ¨å‰è¿›è¿‡ç¨‹ä¸­ä¸æ–­æŸå¤±ç”Ÿå‘½å€¼ã€‚ä¸ºäº†å®ç°è¿™ä¸€è¡Œä¸ºï¼Œåœ¨èš‚èšç±»ä¸­å¼•å…¥äº†ç”¨äºè¡¨ç¤ºæ˜¯å¦é˜»æŒ¡è·¯å¾„çš„å±æ€§ï¼Œå¹¶åœ¨ NinjaAnt ä¸­å°†è¯¥å±æ€§è®¾ç½®ä¸ºä¸é˜»æŒ¡ï¼ŒåŒæ—¶ç›¸åº”ä¿®æ”¹èœœèœ‚çš„é˜»æŒ¡åˆ¤æ–­é€»è¾‘ï¼Œä½¿èœœèœ‚å¯ä»¥ç›´æ¥é€šè¿‡ NinjaAnt çš„ä½ç½®ã€‚NinjaAnt çš„æ”»å‡»æ–¹å¼é‡‡ç”¨éå†å½“å‰åœ°ç‚¹æ‰€æœ‰èœœèœ‚å¹¶é€ä¸€æ‰£é™¤ç”Ÿå‘½å€¼çš„å½¢å¼ï¼Œä»è€Œå®ç°å¯¹å¤šåªèœœèœ‚çš„åŒæ—¶ä¼¤å®³ã€‚æ•´ä½“è€Œè¨€ï¼ŒNinjaAnt æ˜¯ä¸€ç§ä¾é â€œæŒç»­æ¶ˆè€—â€æ¥å‰Šå¼±æ•Œäººçš„èš‚èšç±»å‹ï¼Œåœ¨é˜²çº¿ä¸­å…·æœ‰è¾ƒå¼ºçš„ç­–ç•¥ä»·å€¼ã€‚

ä¸é˜»æŒ¡èœœèœ‚ï¼š`blocks_path = False`ï¼›æ¯å›åˆæ”»å‡»**å½“å‰ Place ä¸­æ‰€æœ‰ Bee**ï¼›éå†æ‹·è´åˆ—è¡¨ï¼Œé¿å…å¹¶å‘ä¿®æ”¹é—®é¢˜ï¼Œäºæ˜¯å¢åŠ äº†ä¸€ä¸ªBeeç±»ã€‚

<img src="C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113002518375.png" alt="image-20260113002518375" style="zoom:80%;" />

```python
class NinjaAnt(Ant):
    """NinjaAnt does not block the path and damages all bees in its place.
    This class is optional.
    """

    name = 'Ninja'
    damage = 1
    food_cost = 5
    # OVERRIDE CLASS ATTRIBUTES HERE
    # BEGIN Problem Optional 1
    implemented = True   # Change to True to view in the GUI
    blocks_path = False
    # END Problem Optional 1

    def action(self, gamestate):
        # BEGIN Problem Optional 1
        "*** YOUR CODE HERE ***"
        bees = self.place.bees[:]
        for bee in bees:
            bee.reduce_health(self.damage)
        # END Problem Optional 1
```

æµ‹è¯•ç»“æœï¼š![image-20260113002013162](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113002013162.png)

- ##### Option2ï¼šLaserAntï¼ˆæ¿€å…‰èšï¼‰åŠŸèƒ½ä¸å®ç°

<table class="ant">
  <tr>
    <td><b>ç±»</b></td>
    <td><b>é£Ÿç‰©æˆæœ¬</b></td>
    <td><b>åˆå§‹ç”Ÿå‘½å€¼</b></td>
  </tr>
  <tr>
    <td><img class="img-responsive center-block" src="assets/insects/ant_laser.gif" /> <br> <code>LaserAnt</code></td>
    <td>10</td>
    <td>1</td>
  </tr>
</table>

LaserAnt æ˜¯ä¸€ç§æ”»å‡»æœºåˆ¶è¾ƒä¸ºå¤æ‚çš„èš‚èšï¼Œå…¶ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿå‘å°„æ¿€å…‰ï¼Œå¯¹è‡ªèº«æ‰€åœ¨ä½ç½®ä»¥åŠå‰æ–¹è·¯å¾„ä¸Šçš„æ‰€æœ‰æ˜†è™«é€ æˆä¼¤å®³ï¼ŒåŒ…æ‹¬èœœèœ‚å’Œèš‚èšæœ¬èº«ï¼Œä½†ä¸å½±å“ Hive ä¸­çš„å•ä½ã€‚ä¸æ™®é€šæŠ•æ·èš‚èšä¸åŒï¼ŒLaserAnt çš„æ”»å‡»å…·æœ‰ç©¿é€æ€§ï¼Œä¸€æ¬¡è¡ŒåŠ¨å¯ä»¥åŒæ—¶å‘½ä¸­å¤šä¸ªç›®æ ‡ã€‚ç„¶è€Œï¼Œä¸ºäº†å¹³è¡¡å…¶å¼ºå¤§çš„æ”»å‡»èƒ½åŠ›ï¼ŒLaserAnt çš„ä¼¤å®³ä¼šå—åˆ°å¤šç§å› ç´ çš„é™åˆ¶ã€‚é¦–å…ˆï¼Œæ¿€å…‰çš„åŸºç¡€ä¼¤å®³ä¸º 2ï¼Œå¹¶ä¼šéšç€ç›®æ ‡ä¸ LaserAnt ä¹‹é—´è·ç¦»çš„å¢åŠ é€æ¸è¡°å‡ï¼Œæ¯å¢åŠ ä¸€ä¸ªåœ°ç‚¹ï¼Œä¼¤å®³å‡å°‘ 0.25ã€‚å…¶æ¬¡ï¼ŒLaserAnt æ¯æˆåŠŸä¼¤å®³ä¸€ä¸ªæ˜†è™«ï¼Œå…¶æ¿€å…‰çš„æ•´ä½“å¨åŠ›éƒ½ä¼šè¿›ä¸€æ­¥ä¸‹é™ï¼Œç”¨äºæ¨¡æ‹Ÿèƒ½é‡æ¶ˆè€—ï¼Œè¿™ä¸€è¡°å‡é€šè¿‡è®°å½•å·²å‘½ä¸­çš„æ˜†è™«æ•°é‡æ¥å®ç°ã€‚å½“è®¡ç®—å¾—åˆ°çš„ä¼¤å®³å€¼ä¸ºè´Ÿæ•°æ—¶ï¼Œè¯¥æ¬¡æ”»å‡»å°†ä¸å†é€ æˆä»»ä½•ä¼¤å®³ã€‚åœ¨å®ç°è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡éå† LaserAnt å‰æ–¹çš„æ‰€æœ‰åœ°ç‚¹æ¥æ”¶é›†å¯è¢«æ”»å‡»çš„æ˜†è™«ï¼Œå¹¶ä¸ºæ¯ä¸ªæ˜†è™«è®¡ç®—å¯¹åº”çš„è·ç¦»ï¼Œä»è€ŒåŠ¨æ€ç¡®å®šå®é™…ä¼¤å®³å€¼ã€‚LaserAnt ä½“ç°äº†ä¸€ç§é«˜çˆ†å‘ä½†ä¼šéšä½¿ç”¨æ¬¡æ•°é€æ¸å‡å¼±çš„è®¾è®¡æ€è·¯ï¼Œåˆç†ä½¿ç”¨æ—¶èƒ½å¤Ÿåœ¨å…³é”®ä½ç½®å‘æŒ¥æå¼ºçš„å‹åˆ¶æ•ˆæœã€‚

åŸºç¡€ä¼¤å®³ï¼š2

è·ç¦»è¡°å‡ï¼š`0.25 * distance`

ç´¯è®¡å‘½ä¸­è¡°å‡ï¼š`0.0625 * insects_shot`

ä¼¤å®³ä¸å°äº 0

æ”»å‡»è‡ªèº«ä½ç½® + å‰æ–¹æ‰€æœ‰ Placeï¼ˆä¸å« Hiveï¼‰

ä¼¤å®³æ‰€æœ‰ Insectï¼ˆBee + Antï¼Œä¸å«è‡ªå·±ï¼‰

```python
class LaserAnt(ThrowerAnt):
    # This class is optional. Only one test is provided for this class.

    name = 'Laser'
    food_cost = 10
    # OVERRIDE CLASS ATTRIBUTES HERE
    # BEGIN Problem Optional 2
    implemented = True   # Change to True to view in the GUI
    # END Problem Optional 2

    def __init__(self, health=1):
        super().__init__(health)
        self.insects_shot = 0

    def insects_in_front(self):
        # BEGIN Problem Optional 2
        insects = {}
        distance = 0
        place = self.place

        while place is not None and not place.is_hive:
            # Bees
            for bee in place.bees:
                insects[bee] = distance

            if place.ant is not None and place.ant is not self:
                insects[place.ant] = distance

                if place.ant.is_container and place.ant.ant_contained:
                    insects[place.ant.ant_contained] = distance

            place = place.entrance
            distance += 1

        return insects
        # END Problem Optional 2

    def calculate_damage(self, distance):
        # BEGIN Problem Optional 2
        damage = (
            2
            - 0.25 * distance
            - 0.0625 * self.insects_shot
        )
        return max(damage, 0)
        # END Problem Optional 2
```

æµ‹è¯•ç»“æœï¼š![image-20260113002106562](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113002106562.png)

### äº” å®éªŒå¿ƒå¾—

> æ€»ç»“è‡ªå·±çš„å®ç°è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ„Ÿå—å’Œå¿ƒå¾—ï¼Œçªå‡ºä¸€åˆ†è€•è€˜ä¸€åˆ†æ”¶è·ã€‚

çªå‡ºè‡ªå·±çš„å¿ƒå¾—ä½“ä¼šï¼Œè¯·è‡ªç”±æè¿°ã€‚

#### é‡åˆ°çš„å›°éš¾

#### å›°éš¾1ï¼š

åœ¨é—®é¢˜5çš„æµ‹è¯•ä¸­ï¼Œæ ¹æ®é”™è¯¯ä¿¡æ¯ï¼Œé—®é¢˜å‡ºç°åœ¨æµ‹è¯•ç”¨ä¾‹12ã€‚è¿™ä¸ªæµ‹è¯•ç”¨ä¾‹å°è¯•ä¿®æ”¹ `ShortThrower`å®ä¾‹çš„ `max_range`å±æ€§ï¼Œä½†æ‚¨çš„ä»£ç ä¸­æ²¡æœ‰å¤„ç†è¿™ä¸ªå±æ€§ã€‚åœ¨ `ThrowerAnt`åŠå…¶å­ç±»ä¸­ï¼Œåº”è¯¥ä½¿ç”¨ `lower_bound`å’Œ `upper_bound`å±æ€§ï¼Œè€Œä¸æ˜¯ `max_range`ã€‚

<img src="C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111180847609.png" alt="image-20260111180847609" style="zoom: 80%;" />

<img src="C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260111181009808.png" alt="image-20260111181009808" style="zoom:80%;" />

ä¿®æ”¹ï¼šç¡®ä¿äº†ä»£ç å…¼å®¹æµ‹è¯•ç”¨ä¾‹ä¸­è®¾ç½®çš„å®ä¾‹å±æ€§ `max_range`å’Œ `min_range`ï¼ŒåŒæ—¶ä¿æŒäº†ä¸ç±»å±æ€§ `lower_bound`å’Œ `upper_bound`çš„å‘åå…¼å®¹æ€§ã€‚ä¿®æ”¹åæµ‹è¯•é€šè¿‡ã€‚

```python
 def nearest_bee(self):
        """Return the nearest Bee in a Place that is not the HIVE, connected to
        the ThrowerAnt's Place by following entrances.

        This method returns None if there is no such Bee (or none in range).
        """
        # BEGIN Problem 3 and 4
        # è·å–å®é™…çš„å°„ç¨‹è¾¹ç•Œï¼Œä¼˜å…ˆä½¿ç”¨å®ä¾‹å±æ€§ï¼ˆæµ‹è¯•ç”¨ä¾‹å¯èƒ½è®¾ç½®ï¼‰ï¼Œå¦åˆ™ä½¿ç”¨ç±»å±æ€§
        lower = getattr(self, 'min_range', self.lower_bound)
        upper = getattr(self, 'max_range', self.upper_bound)
        
        current_place = self.place
        num_transition = 0
        
        # æ·»åŠ å¯¹ current_place æ˜¯å¦ä¸º None çš„æ£€æŸ¥
        while current_place is not None and not current_place.is_hive:
            if lower <= num_transition <= upper:
                if len(current_place.bees) > 0:
                    return random_bee(current_place.bees)
            current_place = current_place.entrance
            num_transition += 1
        return None
        # END Problem 3 and 4
```

#### å›°éš¾2ï¼š

é—®é¢˜7çš„ä»£ç æœ‰ä¸€äº›å‘½åä¸ä¸€è‡´çš„åœ°æ–¹ï¼Œå±æ€§å‘½åéœ€è¦ä¸é—®é¢˜æè¿°ä¿æŒä¸€è‡´ï¼Œè¿™æ ·æµ‹è¯•ç”¨ä¾‹æ‰èƒ½æ­£ç¡®è¯†åˆ«å’ŒéªŒè¯

![image-20260112163810161](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112163810161.png)

éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼š

1. ç±»å±æ€§åï¼šåº”è¯¥ä½¿ç”¨ `chew_duration`è€Œä¸æ˜¯ `chew_cooldown`

2. å®ä¾‹å±æ€§åï¼šåº”è¯¥ä½¿ç”¨ `chew_countdown`è€Œä¸æ˜¯ `cooldown`

3. åˆå§‹åŒ–å‚æ•°ï¼š`health`åº”è¯¥é»˜è®¤ä¸º 1ï¼ˆç¬¦åˆè¡¨æ ¼è¦æ±‚ï¼‰

   ```python
   # BEGIN Problem 7
   class HungryAnt(Ant):
       name = 'Hungry'
       food_cost = 4
       implemented = True
       chew_duration = 3  
   
       def __init__(self, health=1): 
           super().__init__(health)
           self.chew_countdown = 0  
   
       def action(self, gamestate):
           if self.chew_countdown > 0:
               self.chew_countdown -= 1
           else:
               if self.place.bees:
                   bee = random_bee(self.place.bees)
                   bee.reduce_health(bee.health)
                   self.chew_countdown = HungryAnt.chew_duration
   # END Problem 7
   ```

   #### å›°éš¾3ï¼š

   æ ¹æ®é—®é¢˜8é”™è¯¯ä¿¡æ¯ï¼Œæµ‹è¯•æœŸæœ›çš„é”™è¯¯æ¶ˆæ¯æ˜¯ `"Two ants in tunnel_0_0"`ï¼Œä½†å®é™…å¾—åˆ°çš„æ˜¯ `"Too many ants in tunnel_0_0"`ã€‚è¿™æ˜¯å› ä¸ºåœ¨ `Ant`ç±»çš„ `add_to`æ–¹æ³•ä¸­ï¼Œå½“æ— æ³•å®¹çº³èš‚èšæ—¶ï¼ŒæŠ›å‡ºçš„æ–­è¨€é”™è¯¯ä¿¡æ¯ä¸åŒ¹é…ã€‚

   <img src="C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112165818199.png" alt="image-20260112165818199" style="zoom:80%;" />

   ![image-20260112170604360](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112170604360.png)

   **é—®é¢˜åˆ†æ**

   æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

   1. å°† `bodyguard`æ·»åŠ åˆ°åœ°ç‚¹
   2. å°† `first_ant`æ·»åŠ åˆ°åŒä¸€åœ°ç‚¹ï¼ˆä¼šè¢« `bodyguard`å®¹çº³ï¼‰
   3. å°è¯•å°† `second_ant`æ·»åŠ åˆ°åŒä¸€åœ°ç‚¹ï¼ˆæ­¤æ—¶åº”è¯¥å¤±è´¥ï¼‰

   å½“å°è¯•æ·»åŠ ç¬¬ä¸‰åªèš‚èšæ—¶ï¼Œ`add_to`æ–¹æ³•ä¼šè§¦å‘æ–­è¨€ï¼Œä½†é”™è¯¯ä¿¡æ¯ä¸ç¬¦åˆæµ‹è¯•æœŸæœ›ã€‚

   **è§£å†³æ–¹æ¡ˆ**

   ä¿®æ”¹ `Ant`ç±»çš„ `add_to`æ–¹æ³•ä¸­çš„é”™è¯¯æ¶ˆæ¯ï¼Œä» `'Too many ants in {0}'`æ”¹ä¸º `'Two ants in {0}'`ã€‚

   åœ¨ `ants.py`æ–‡ä»¶ä¸­æ‰¾åˆ° `Ant.add_to`æ–¹æ³•

   ![image-20260112174029935](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112174029935.png)

   #### å›°éš¾4ï¼š

   é”™è¯¯è¡¨æ˜ `QueenAnt`ç±»è¯•å›¾ç»§æ‰¿è‡ª `ScubaThrower`ï¼Œä½† `ScubaThrower`ç±»è¿˜æ²¡æœ‰è¢«å®šä¹‰ã€‚è¿™æ˜¯ä¸€ä¸ªç±»å®šä¹‰é¡ºåºçš„é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦åœ¨ `QueenAnt`ç±»ä¹‹å‰å®šä¹‰ `ScubaThrower`ç±»ã€‚

   ![image-20260112171646314](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112171646314.png)

   **è§£å†³æ–¹æ¡ˆ**

   åœ¨ `ants.py`æ–‡ä»¶ä¸­ï¼Œåœ¨ `QueenAnt`ç±»ä¹‹å‰æ·»åŠ  `ScubaThrower`ç±»çš„å­˜æ ¹å®šä¹‰ã€‚

![image-20260112174119812](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112174119812.png)

#### å›°éš¾5ï¼š

é—®é¢˜åœ¨äºæˆ‘å†™çš„ `Water`ç±»çš„ `add_insect`æ–¹æ³•è¯•å›¾è®¿é—® `insect.is_waterproof`å±æ€§ï¼Œä½† `HarvesterAnt`ç±»æ²¡æœ‰å®šä¹‰è¿™ä¸ªå±æ€§ã€‚

![image-20260112180625686](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112180625686.png)

æ ¹æ®é—®é¢˜æè¿°ï¼Œéœ€è¦ï¼š

1. å‘ `Insect`ç±»æ·»åŠ ä¸€ä¸ªåä¸º `is_waterproof`çš„ç±»å±æ€§ï¼Œå¹¶è®¾ç½®ä¸º `False`
2. ç”±äºèœœèœ‚ä¼šé£ï¼Œå°† `Bee`ç±»çš„ `is_waterproof`å±æ€§è®¾ç½®ä¸º `True`ï¼Œè¦†ç›–ç»§æ‰¿çš„å€¼

#### å›°éš¾6ï¼š

æ ¹æ®é”™è¯¯ä¿¡æ¯ï¼Œæµ‹è¯•ç”¨ä¾‹3æœŸæœ›èœœèœ‚çš„ç”Ÿå‘½å€¼ä¿æŒä¸º1ï¼Œä½†å®é™…å¾—åˆ°0ï¼Œè¯´æ˜èœœèœ‚è¢«é”™è¯¯åœ°æ€æ­»äº†ã€‚è¿™è¡¨æ˜æˆ‘ä»¬çš„é˜²æ°´é€»è¾‘å¯èƒ½æœ‰é—®é¢˜ã€‚

![image-20260112181313698](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112181313698.png)

åé¢å‘ç°æ˜¯è‡ªå·±æ¼å°†`Bee`ç±»çš„ `is_waterproof`å±æ€§è®¾ç½®ä¸º `True`

![image-20260112182709178](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112182709178.png)

#### å›°éš¾7

æ ¹æ®é”™è¯¯ä¿¡æ¯ï¼Œæµ‹è¯•ç”¨ä¾‹æœŸæœ›åœ¨ç¬¬äºŒæ¬¡åˆ›å»º `QueenAnt`æ—¶æ²¡æœ‰è¾“å‡ºï¼Œä½†ä¸€å¼€å§‹ä»£ç æ‰“å°äº† `"Only one queen can be created!"`ã€‚é—®é¢˜åœ¨äºæˆ‘çš„ `construct`ç±»æ–¹æ³•ä¸­ä½¿ç”¨äº† `print`è¯­å¥ï¼Œè€Œæµ‹è¯•æœŸæœ›é™é»˜å¤„ç†ï¼ˆä¸æ‰“å°ä»»ä½•å†…å®¹ï¼‰ã€‚

![image-20260112183313907](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112183313907.png)

æ ¹æ®é”™è¯¯ä¿¡æ¯ï¼Œé—®é¢˜å‡ºç°åœ¨æµ‹è¯•ç”¨ä¾‹1ä¸­ã€‚æµ‹è¯•æœŸæœ› `back_ant.damage`åº”è¯¥æ˜¯1ï¼Œä½†å®é™…å¾—åˆ°0ã€‚è¿™è¡¨æ˜ `QueenAnt`æ²¡æœ‰æ­£ç¡®åœ°å¯¹èš‚èšè¿›è¡Œä¼¤å®³åŠ å€ã€‚buffæ²¡æ£€æµ‹åˆ°

![image-20260112183659217](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112183659217.png)

ThrowerAntçš„åˆå§‹ä¼¤å®³è®¾ç½®é”™è¯¯ï¼šæ²¡æœ‰æ­£ç¡®è®¾ç½® damage = 1

![image-20260112190107449](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260112190107449.png)



1.ä¿®å¤ ThrowerAnt.action 

é—®é¢˜ ï¼šä¹‹å‰çš„ä»£ç ç›´æ¥è°ƒç”¨ bee.reduce_health(1) ï¼Œè¿™æ„å‘³ç€æ— è®ºèš‚èšçš„ damage å±æ€§æ˜¯å¤šå°‘ï¼ˆå³ä½¿è¢«èšååŠ å€ï¼‰ï¼Œå®ƒéƒ½åªé€ æˆ 1 ç‚¹ä¼¤å®³ã€‚

ä¿®å¤ ï¼šæ”¹ä¸ºè°ƒç”¨ self.throw_at(bee) ã€‚ throw_at æ–¹æ³•ä¼šä½¿ç”¨ self.damage ï¼Œè¿™æ ·å½“ damage è¢«åŠ å€ä¸º 2 æ—¶ï¼Œå®é™…ä¼¤å®³ä¹Ÿä¼šå˜æˆ 2ã€‚

2.é‡æ„ QueenAnt.action 

é—®é¢˜ ï¼šåŸæ¥çš„ä»£ç å­˜åœ¨ä¸¥é‡çš„ç¼©è¿›é”™è¯¯ï¼Œå¹¶ä¸”éå†é€»è¾‘ä¸å¤Ÿæ¸…æ™°ã€‚

ä¿®å¤ ï¼š
- ä¿®æ­£äº†ç¼©è¿›ã€‚
- å®ç°äº†å‘åéå†éš§é“ï¼ˆé€šè¿‡ place.exit ï¼‰çš„é€»è¾‘ã€‚
- æ·»åŠ äº†å¯¹ å®¹å™¨èš‚èš (ContainerAnt) çš„æ”¯æŒï¼šä¸ä»… Buff å®¹å™¨æœ¬èº«ï¼Œå¦‚æœå®¹å™¨é‡Œè£…ç€èš‚èšï¼Œä¹Ÿä¼š Buff é‡Œé¢çš„èš‚èšã€‚
- ä½¿ç”¨ self.buffed_ants é›†åˆæ¥é˜²æ­¢å¯¹åŒä¸€åªèš‚èšé‡å¤ Buffã€‚

#### å›°éš¾8

åœ¨ `class Bee:` ä¹‹å‰çš„ä»£ç é‡Œï¼Œå¼•å…¥äº†è¯­æ³•é”™è¯¯æˆ–è¿è¡ŒæœŸé”™è¯¯ï¼Œå¯¼è‡´ Python æ ¹æœ¬æ²¡æœ‰æ‰§è¡Œåˆ° Bee çš„å®šä¹‰

![image-20260113000200798](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113000200798.png)

åœ¨ `NinjaAnt` ç±»é‡Œï¼Œæ²¡æœ‰è¦†ç›– `blocks_path`ï¼ŒNinjaAnt å¿…é¡»ä¸é˜»æŒ¡ Beeï¼Œå¦åˆ™å®ƒä¼šç»§æ‰¿ `Ant.blocks_path = True`

![image-20260113001515952](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113001515952.png)

**Bee æ²¡æœ‰è¢«æ­£ç¡®åŠ å…¥ place.bees**ï¼Œæ‰€ä»¥ä¸€æ‰“å°±â€œå…¨æ²¡äº†â€ï¼ŒBee æ ¹æœ¬æ²¡æœ‰è¢«åŠ å…¥ `place.bees` åˆ—è¡¨ä¿®æ”¹ä½ç½®

ä¿®æ”¹ï¼šğŸ‘‰ åœ¨å·²ç»è¡¥å›çš„ `class Bee(Insect):` é‡Œ**åŠ å…¥ `add_to` å’Œ `remove_from`**ï¼Œä»è€ŒæˆåŠŸæµ‹è¯•ã€‚

![image-20260113001612364](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113001612364.png)

#### å›°éš¾9

GUIæ— æ³•è¿è¡Œï¼Œç°åœ¨çš„ Bee.add_to / remove_from å†™å¯¹äº†é€»è¾‘ï¼Œä½†â€œç»•è¿‡äº† Place.add_insect / remove_insectâ€ï¼ŒGUI ä¾èµ– Place å±‚ç»Ÿä¸€ç®¡ç† Bee çš„ ID

![image-20260113004011235](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113004011235.png)

### æ€»ç»“ä¸å¿ƒå¾—

é€šè¿‡å®Œæˆã€Šèš‚èšå¤§æˆ˜èœœèœ‚ã€‹è¿™ä¸€é¡¹ç›®ï¼Œæˆ‘å¯¹é¢å‘å¯¹è±¡ç¼–ç¨‹åœ¨å®é™…è½¯ä»¶å¼€å‘ä¸­çš„åº”ç”¨æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚æ•´ä¸ªé¡¹ç›®ä¸ä»…æ˜¯ä¸€æ¬¡ç¼–ç¨‹ç»ƒä¹ ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶è®¾è®¡ä¸å®ç°è¿‡ç¨‹ï¼Œè®©æˆ‘åœ¨å®è·µä¸­é¢†æ‚Ÿäº†ä»£ç ç»„ç»‡ã€é—®é¢˜è§£å†³å’Œç³»ç»Ÿè®¾è®¡çš„å¤šé‡ç»´åº¦ã€‚100%çš„æµ‹è¯•é€šè¿‡ç‡è®©æˆ‘å¾ˆæœ‰æˆå°±æ„Ÿï¼

![image-20260113003417680](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113003417680.png)

é¡¹ç›®çš„æ ¸å¿ƒæ”¶è·åœ¨äºå¯¹é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™çš„ç›´è§‚ä½“éªŒã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç»§æ‰¿æœºåˆ¶ï¼Œ`ThrowerAnt`åŠå…¶å­ç±»å¦‚`ShortThrower`å’Œ`LongThrower`ä»…éœ€è°ƒæ•´`lower_bound`ä¸`upper_bound`å±æ€§ä¾¿å®ç°äº†ä¸åŒçš„å°„ç¨‹é€»è¾‘ï¼Œè¿™ç”ŸåŠ¨ä½“ç°äº†â€œå¼€é—­åŸåˆ™â€çš„ä»·å€¼â€”â€”å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åŒæ—¶ï¼Œ`ContainerAnt`é‡‡ç”¨ç»„åˆè€Œéå¤æ‚ç»§æ‰¿æ¥å®¹çº³å…¶ä»–èš‚èšï¼Œå±•ç¤ºäº†ç»„åˆä¼˜äºç»§æ‰¿çš„è®¾è®¡æ€æƒ³ï¼Œä½¿ç³»ç»Ÿç»“æ„æ›´åŠ çµæ´»æ¸…æ™°ã€‚

è°ƒè¯•è¿‡ç¨‹ä¸­é‡åˆ°çš„æŒ‘æˆ˜åŠè§£å†³æ–¹æ¡ˆï¼Œè®©æˆ‘å¯¹ä»£ç å¥å£®æ€§ä¸å…¼å®¹æ€§æœ‰äº†æ–°çš„è®¤è¯†ã€‚åœ¨å®ç°`ThrowerAnt`çš„å°„ç¨‹é€»è¾‘æ—¶ï¼Œæµ‹è¯•ç”¨ä¾‹ä½¿ç”¨äº†`max_range`å±æ€§ï¼Œè€Œæˆ‘çš„ä»£ç ä½¿ç”¨äº†`upper_bound`ï¼Œè¿™å¯¼è‡´äº†å…¼å®¹æ€§é—®é¢˜ã€‚é€šè¿‡å¼•å…¥`getattr(self, 'max_range', self.upper_bound)`çš„æ–¹å¼ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•ç¼–å†™æ—¢èƒ½æ»¡è¶³å½“å‰éœ€æ±‚ï¼Œåˆèƒ½çµæ´»é€‚åº”å¤–éƒ¨æµ‹è¯•æˆ–æœªæ¥å˜åŒ–çš„ä»£ç ã€‚å¦ä¸€ä¸ªæ·±åˆ»æ•™è®­æ¥è‡ª`FireAnt`çš„å®ç°ï¼šåœ¨éå†`bees`åˆ—è¡¨å¹¶å¯¹èœœèœ‚é€ æˆä¼¤å®³æ—¶ï¼Œç›´æ¥æ“ä½œåŸåˆ—è¡¨ä¼šå¯¼è‡´éå†è¿‡ç¨‹ä¸­çš„ç»“æ„æ€§ä¿®æ”¹é”™è¯¯ã€‚å…ˆåˆ›å»ºå‰¯æœ¬`bees_in_place = self.place.bees[:]`å†éå†ï¼Œè¿™ä¸€è§£å†³æ–¹æ³•è®©æˆ‘ç‰¢ç‰¢è®°ä½äº†â€œä¸ç›´æ¥åœ¨è¿­ä»£ä¸­ä¿®æ”¹é›†åˆâ€çš„åŸºæœ¬åŸåˆ™ã€‚

![image-20260113005632562](C:\Users\DELL\AppData\Roaming\Typora\typora-user-images\image-20260113005632562.png)

æ­¤å¤–ï¼Œé¡¹ç›®è¿˜æ¶‰åŠåˆ°å¤šç§è®¾è®¡æ¨¡å¼çš„å·§å¦™åº”ç”¨ã€‚`HungryAnt`é€šè¿‡`chew_countdown`çŠ¶æ€å˜é‡æ¥ç®¡ç†â€œè¿›é£Ÿâ€ä¸â€œæ¶ˆåŒ–â€ä¸¤ç§è¡Œä¸ºï¼Œæ˜¯çŠ¶æ€æ¨¡å¼çš„ç®€å•ä½“ç°ï¼›`QueenAnt`éå†å¹¶å¼ºåŒ–åæ–¹èš‚èšçš„`buff()`æ“ä½œï¼Œç±»ä¼¼äºè£…é¥°å™¨æ¨¡å¼ï¼Œåœ¨ä¸ä¿®æ”¹åŸæœ‰ç±»çš„æƒ…å†µä¸‹åŠ¨æ€å¢å¼ºäº†å¯¹è±¡åŠŸèƒ½ï¼›è€Œå„èš‚èšå­ç±»é€šè¿‡é‡å†™`action`æ–¹æ³•å®ç°ä¸åŒçš„æ”»å‡»ç­–ç•¥ï¼Œåˆ™ä½“ç°äº†ç­–ç•¥æ¨¡å¼çš„æ€æƒ³ã€‚

å¯¹è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸æƒ…å†µçš„å‘¨å¯†å¤„ç†ä¹Ÿæ˜¯æœ¬é¡¹ç›®çš„é‡è¦ä¸€è¯¾ã€‚ä¾‹å¦‚ï¼Œåœ¨`nearest_bee`æ–¹æ³•ä¸­æ£€æŸ¥`current_place is not None`ï¼Œé¿å…äº†è®¿é—®ç©ºå¯¹è±¡å±æ€§ï¼›åœ¨`ContainerAnt.can_contain`æ–¹æ³•ä¸­ä¸¥æ ¼éªŒè¯â€œä»…èƒ½å®¹çº³ä¸€åªéå®¹å™¨èš‚èšâ€çš„å…ˆå†³æ¡ä»¶ï¼Œç¡®ä¿äº†å®¹å™¨é€»è¾‘çš„æ­£ç¡®æ€§ã€‚è¿™äº›ç»†èŠ‚å¤„ç†æ˜¯æ„å»ºç¨³å®šã€å¯é ç¨‹åºä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚

æ•´ä¸ªå¼€å‘è¿‡ç¨‹åœ¨æµ‹è¯•æ¡†æ¶çš„é©±åŠ¨ä¸‹è¿›è¡Œï¼Œä½¿æˆ‘äº²èº«ä½“éªŒäº†æµ‹è¯•é©±åŠ¨å¼€å‘çš„å®è·µä»·å€¼ã€‚ä»ç†è§£æµ‹è¯•ç”¨ä¾‹çš„è¦æ±‚å¼€å§‹ï¼Œç¼–å†™æœ€å°åŒ–ä»£ç é€šè¿‡æµ‹è¯•ï¼Œå†åˆ°é‡æ„ä¼˜åŒ–ï¼Œæ¯ä¸€æ­¥éƒ½ç¡®ä¿æµ‹è¯•é€šè¿‡ã€‚è¿™ç§æµç¨‹ä¸ä»…ä¿è¯äº†ä»£ç è´¨é‡ï¼Œä¹ŸåŸ¹å…»äº†æˆ‘å…ˆæ€è€ƒæ¥å£ä¸è¾¹ç•Œï¼Œå†å®ç°åŠŸèƒ½çš„å¼€å‘ä¹ æƒ¯ã€‚

å›é¡¾æ•´ä¸ªé¡¹ç›®ï¼Œä»æœ€åˆçš„ç±»ç»“æ„è®¾è®¡ï¼Œåˆ°ä¸­é—´å„ç±»èš‚èšç‰¹æ®Šèƒ½åŠ›çš„å®ç°ï¼Œå†åˆ°æœ€åè§£å†³å¤æ‚çš„äº¤äº’é—®é¢˜ï¼ˆå¦‚é˜²æ°´å±æ€§ã€èšåå”¯ä¸€æ€§å’Œä¼¤å®³å¼ºåŒ–ï¼‰ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯å¯¹åˆ†æã€è®¾è®¡ä¸å®ç°èƒ½åŠ›çš„ç»¼åˆé”»ç‚¼ã€‚æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼Œä¼˜ç§€çš„ä»£ç ä¸ä»…æ˜¯èƒ½æ­£ç¡®è¿è¡Œçš„ä»£ç ï¼Œæ›´æ˜¯ç»“æ„æ¸…æ™°ã€æ˜“äºç»´æŠ¤ã€å¯æ‰©å±•æ€§å¼ºçš„ä»£ç ã€‚è¿™æ¬¡å®è·µç»å†ï¼Œå°†å¯¹æˆ‘æœªæ¥çš„è½¯ä»¶å·¥ç¨‹å­¦ä¹ ä¸é¡¹ç›®å¼€å‘äº§ç”Ÿé•¿è¿œè€Œç§¯æçš„å½±å“ã€‚